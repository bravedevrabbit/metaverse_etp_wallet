<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title translate="IDENTITIES.TITLE"></ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <!--ion-item lines="none">
    <ion-segment [(ngModel)]="displayType" color="primary">
      <ion-segment-button value="ETP">
        ETP
      </ion-segment-button>
      <ion-segment-button *ngIf="selectedAsset != 'ETP'" value="asset">
        {{selectedAsset}}
      </ion-segment-button>
      <ion-segment-button value="MST">
        MST
      </ion-segment-button>
    </ion-segment>
  </ion-item-->

  <ion-card *ngFor="let address of addresses">

    <ion-card-header>
      <ion-toolbar>
        <!--If has Avatar-->
        <div *ngIf="addressBalancesObject[address] && addressBalancesObject[address].AVATAR">
          <ion-card-title>
            <img class="avatar-logo" [src]="'assets/icon/default_avatar.png'">
            {{addressBalancesObject[address].AVATAR}}
          </ion-card-title>
          <ion-card-subtitle>{{address}}</ion-card-subtitle>
        </div>
        <!--If no Avatar-->
        <div *ngIf="!addressBalancesObject[address] || !addressBalancesObject[address].AVATAR">
          <ion-card-title>{{address}}</ion-card-title>
          <ion-card-subtitle> </ion-card-subtitle>
        </div>
        <ion-buttons slot="end">
          <ion-button color="primary" class="copy-btn" id="copybtn" ngxClipboard [cbContent]="address">
            <ion-icon slot="icon-only" name="copy" size="small"></ion-icon>
          </ion-button>
          <ion-button color="primary" class="qrcode-btn" id="qrcode" (click)="show(address)">
            <ion-icon slot="icon-only" name="qr-code" size="small"></ion-icon>
          </ion-button>
          <ion-button color="primary" class="time-btn" id="time" routerLink="/account/history/ETP">
            <ion-icon slot="icon-only" name="time" size="small"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-toolbar>

    </ion-card-header>


    <ion-card-content>
      <div>
        <b>{{'IDENTITIES.AVAILABLE'|translate}}: </b>
        <div>
          {{(addressBalancesObject[address] && addressBalancesObject[address].ETP)?format(addressBalancesObject[address].ETP.available,addressBalancesObject[address].ETP.decimals):0}} ETP
        </div>
        <div *ngFor="let balance of addressbalances[address]">
          {{format(balance.available + balance.unconfirmed + balance.frozen, balance.decimals)}} {{balance.name}}
        </div>
      </div>
      <div>
        <b>{{'IDENTITIES.UNCONFIRMED'|translate}}: </b>
        <div>
          {{(addressBalancesObject[address] &&addressBalancesObject[address].ETP && addressBalancesObject[address].ETP.unconfirmed)?format(addressBalancesObject[address].ETP.unconfirmed,addressBalancesObject[address].ETP.decimals):0}} ETP
        </div>
        <div *ngFor="let balance of addressbalances[address]">
          <span *ngIf="balance.unconfirmed">{{format(balance.unconfirmed, balance.decimals)}}  {{balance.name}}</span>
        </div>
      </div>
      <div>
        <b>{{'IDENTITIES.FROZEN'|translate}}: </b>
        <div>
          {{(addressBalancesObject[address] &&addressBalancesObject[address].ETP)?format(addressBalancesObject[address].ETP.frozen, addressBalancesObject[address].ETP.decimals):0}} ETP
        </div>
        <div *ngFor="let balance of addressbalances[address]">
          <span *ngIf="balance.unconfirmed">{{format(balance.frozen, balance.decimals)}}  {{balance.name}}</span>
        </div>
      </div>
    </ion-card-content>
  </ion-card>

  <ion-row class="right">
    <ion-button routerLink="/account/identities/generate-address" translate="IDENTITIES.BUTTON.CHANGE_ADDRESS_NUMBER"></ion-button>
  </ion-row>

</ion-content>